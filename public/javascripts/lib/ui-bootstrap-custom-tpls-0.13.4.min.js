/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.13.4 - 2015-09-03
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.typeahead","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dateparser"]),angular.module("ui.bootstrap.tpls",["template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html"]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(a){var n=a.match(t);if(!n)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+a+'".');return{itemName:n[3],source:e(n[4]),viewMapper:e(n[2]||n[1]),modelMapper:e(n[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,a,n,i,r,o,l,s){var c=[9,13,27,38,40],p=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,u,h,f){function m(){C.moveInProgress||(C.moveInProgress=!0,C.$digest()),W&&n.cancel(W),W=n(function(){C.matches.length&&g(),C.moveInProgress=!1,C.$digest()},p)}function g(){C.position=F?l.offset(u):l.position(u),C.position.top+=u.prop("offsetHeight")}var y=f[0],v=f[1],D=d.$eval(h.typeaheadMinLength);D||0===D||(D=1);var w,b,$=d.$eval(h.typeaheadWaitMs)||0,k=d.$eval(h.typeaheadEditable)!==!1,M=t(h.typeaheadLoading).assign||angular.noop,x=t(h.typeaheadOnSelect),T=angular.isDefined(h.typeaheadSelectOnBlur)?d.$eval(h.typeaheadSelectOnBlur):!1,O=t(h.typeaheadNoResults).assign||angular.noop,E=h.typeaheadInputFormatter?t(h.typeaheadInputFormatter):void 0,F=h.typeaheadAppendToBody?d.$eval(h.typeaheadAppendToBody):!1,A=d.$eval(h.typeaheadFocusFirst)!==!1,I=h.typeaheadSelectOnExact?d.$eval(h.typeaheadSelectOnExact):!1,P=t(h.ngModel),S=t(h.ngModel+"($$$p)"),V=function(e,t){return angular.isFunction(P(d))&&v&&v.$options&&v.$options.getterSetter?S(e,{$$$p:t}):P.assign(e,t)},Y=s.parse(h.typeahead),C=d.$new(),H=d.$on("$destroy",function(){C.$destroy()});C.$on("$destroy",H);var N="typeahead-"+C.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":N});var U=angular.element("<div typeahead-popup></div>");U.attr({id:N,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&U.attr("template-url",h.typeaheadTemplateUrl),angular.isDefined(h.typeaheadPopupTemplateUrl)&&U.attr("popup-template-url",h.typeaheadPopupTemplateUrl);var q=function(){C.matches=[],C.activeIdx=-1,u.attr("aria-expanded",!1)},B=function(e){return N+"-option-"+e};C.$watch("activeIdx",function(e){0>e?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",B(e))});var R=function(e,t){return C.matches.length>t&&e?e.toUpperCase()===C.matches[t].label.toUpperCase():!1},_=function(e){var t={$viewValue:e};M(d,!0),O(d,!1),a.when(Y.source(d,t)).then(function(a){var n=e===y.$viewValue;if(n&&w)if(a&&a.length>0){C.activeIdx=A?0:-1,O(d,!1),C.matches.length=0;for(var i=0;i<a.length;i++)t[Y.itemName]=a[i],C.matches.push({id:B(i),label:Y.viewMapper(C,t),model:a[i]});C.query=e,g(),u.attr("aria-expanded",!0),I&&1===C.matches.length&&R(e,0)&&C.select(0)}else q(),O(d,!0);n&&M(d,!1)},function(){q(),M(d,!1),O(d,!0)})};F&&(angular.element(r).bind("resize",m),i.find("body").bind("scroll",m));var W;C.moveInProgress=!1,q(),C.query=void 0;var j,L=function(e){j=n(function(){_(e)},$)},K=function(){j&&n.cancel(j)};y.$parsers.unshift(function(e){return w=!0,0===D||e&&e.length>=D?$>0?(K(),L(e)):_(e):(M(d,!1),K(),q()),k?e:e?void y.$setValidity("editable",!1):(y.$setValidity("editable",!0),null)}),y.$formatters.push(function(e){var t,a,n={};return k||y.$setValidity("editable",!0),E?(n.$model=e,E(d,n)):(n[Y.itemName]=e,t=Y.viewMapper(d,n),n[Y.itemName]=void 0,a=Y.viewMapper(d,n),t!==a?t:e)}),C.select=function(e){var t,a,i={};b=!0,i[Y.itemName]=a=C.matches[e].model,t=Y.modelMapper(d,i),V(d,t),y.$setValidity("editable",!0),y.$setValidity("parse",!0),x(d,{$item:a,$model:t,$label:Y.viewMapper(d,i)}),q(),C.$eval(h.typeaheadFocusOnSelect)!==!1&&n(function(){u[0].focus()},0,!1)},u.bind("keydown",function(e){if(0!==C.matches.length&&-1!==c.indexOf(e.which)){if(-1===C.activeIdx&&(9===e.which||13===e.which))return q(),void C.$digest();e.preventDefault(),40===e.which?(C.activeIdx=(C.activeIdx+1)%C.matches.length,C.$digest()):38===e.which?(C.activeIdx=(C.activeIdx>0?C.activeIdx:C.matches.length)-1,C.$digest()):13===e.which||9===e.which?C.$apply(function(){C.select(C.activeIdx)}):27===e.which&&(e.stopPropagation(),q(),C.$digest())}}),u.bind("blur",function(){T&&C.matches.length&&-1!==C.activeIdx&&!b&&(b=!0,C.$apply(function(){C.select(C.activeIdx)})),w=!1,b=!1});var Z=function(e){u[0]!==e.target&&3!==e.which&&0!==C.matches.length&&(q(),o.$$phase||C.$digest())};i.bind("click",Z),d.$on("$destroy",function(){i.unbind("click",Z),F&&z.remove(),U.remove()});var z=e(U)(C);F?i.find("body").append(z):u.after(z)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,a){e.templateUrl=a.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(n,i,r){var o=a(r.templateUrl)(n.$parent)||"template/typeahead/typeahead-match.html";e(o).then(function(e){t(e.trim())(n,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,a){function n(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var r;return r=t.has("$sanitize"),function(t,o){return!r&&i(t)&&a.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(n(o),"gi"),"<strong>$&</strong>"):t,r||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function a(e,a){return e.currentStyle?e.currentStyle[a]:t.getComputedStyle?t.getComputedStyle(e)[a]:e.style[a]}function n(e){return"static"===(a(e,"position")||"static")}var i=function(t){for(var a=e[0],i=t.offsetParent||a;i&&i!==a&&n(i);)i=i.offsetParent;return i||a};return{position:function(t){var a=this.offset(t),n={top:0,left:0},r=i(t[0]);r!=e[0]&&(n=this.offset(angular.element(r)),n.top+=r.clientTop-r.scrollTop,n.left+=r.clientLeft-r.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:a.top-n.top,left:a.left-n.left}},offset:function(a){var n=a[0].getBoundingClientRect();return{width:n.width||a.prop("offsetWidth"),height:n.height||a.prop("offsetHeight"),top:n.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:n.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,a,n){var i,r,o,l,s=a.split("-"),c=s[0],p=s[1]||"center";i=n?this.offset(e):this.position(e),r=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},u={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":l={top:u[p](),left:d[c]()};break;case"left":l={top:u[p](),left:i.left-r};break;case"bottom":l={top:u[c](),left:d[p]()};break;default:l={top:i.top-o,left:d[p]()}}return l}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,a,n,i,r,o,l){var s=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(a,i){s[a]=angular.isDefined(t[a])?6>i?n(t[a])(e.$parent):e.$parent.$eval(t[a]):o[a]}),angular.forEach(["minDate","maxDate"],function(n){t[n]?e.$parent.$watch(a(t[n]),function(e){s[n]=e?new Date(e):null,s.refreshView()}):s[n]=o[n]?new Date(o[n]):null}),angular.forEach(["minMode","maxMode"],function(n){t[n]?e.$parent.$watch(a(t[n]),function(a){s[n]=angular.isDefined(a)?a:t[n],e[n]=s[n],("minMode"==n&&s.modes.indexOf(e.datepickerMode)<s.modes.indexOf(s[n])||"maxMode"==n&&s.modes.indexOf(e.datepickerMode)>s.modes.indexOf(s[n]))&&(e.datepickerMode=s[n])}):(s[n]=o[n]||null,e[n]=s[n])}),e.datepickerMode=e.datepickerMode||o.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(s.activeDate=e,s.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===s.compare(t.date,s.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){s.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:l||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var a=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:r(e,t),selected:a&&0===this.compare(e,a),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(a){return this.minDate&&this.compare(a,this.minDate)<0||this.maxDate&&this.compare(a,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:a,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var a=[];e.length>0;)a.push(e.splice(0,t));return a},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===s.minMode){var a=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);a.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(a),c.$render()}else s.activeDate=t,e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=s.activeDate.getFullYear()+e*(s.step.years||0),a=s.activeDate.getMonth()+e*(s.step.months||0);s.activeDate.setFullYear(t,a,1),s.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===s.maxMode&&1===t||e.datepickerMode===s.minMode&&-1===t||(e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var p=function(){s.element[0].focus()};e.$on("datepicker.focus",p),e.keydown=function(t){var a=e.keys[t.which];if(a&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),s.shortcutPropagation||t.stopPropagation(),"enter"===a||"space"===a){if(s.isDisabled(s.activeDate))return;e.select(s.activeDate),p()}else!t.ctrlKey||"up"!==a&&"down"!==a?(s.handleKeyDown(a,t),s.refreshView()):(e.toggleMode("up"===a?1:-1),p())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,a,n){var i=n[0],r=n[1];i.init(r)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,a,n,i){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?s[t]:29}function o(e,t){for(var a,n=new Array(t),r=new Date(e),o=0;t>o;)a=new Date(r),i.fixTimeZone(a),n[o++]=a,r.setDate(r.getDate()+1);return n}function l(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var a=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((a-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=a;var s=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var a=i.activeDate.getFullYear(),n=i.activeDate.getMonth(),r=new Date(a,n,1),s=i.startingDay-r.getDay(),c=s>0?7-s:-s,p=new Date(r);c>0&&p.setDate(-c+1);for(var d=o(p,42),u=0;42>u;u++)d[u]=angular.extend(i.createDateObject(d[u],i.formatDay),{secondary:d[u].getMonth()!==n,uid:t.uniqueId+"-"+u});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:e(d[h].date,i.formatDayHeader),full:e(d[h].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var f=(11-i.startingDay)%7,m=t.rows.length,g=0;m>g;g++)t.weekNumbers.push(l(t.rows[g][f].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var a=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(a,1),t=Math.min(r(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=r(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,a,n,i){i.step={years:1},i.element=a,i._refreshView=function(){for(var a,n=new Array(12),r=i.activeDate.getFullYear(),o=0;12>o;o++)a=new Date(r,o,1),i.fixTimeZone(a),n[o]=angular.extend(i.createDateObject(a,i.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var a=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(a)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,a,n){function i(e){return parseInt((e-1)/r,10)*r+1}var r=n.yearRange;n.step={years:r},n.element=t,n._refreshView=function(){for(var t,a=new Array(r),o=0,l=i(n.activeDate.getFullYear());r>o;o++)t=new Date(l+o,0,1),n.fixTimeZone(t),a[o]=angular.extend(n.createDateObject(t,n.formatYear),{uid:e.uniqueId+"-"+o});e.title=[a[0].label,a[r-1].label].join(" - "),e.rows=n.split(a,5)},n.compare=function(e,t){return e.getFullYear()-t.getFullYear()},n.handleKeyDown=function(e){var t=n.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*n.step.years:"home"===e?t=i(n.activeDate.getFullYear()):"end"===e&&(t=i(n.activeDate.getFullYear())+r-1),n.activeDate.setFullYear(t)},n.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,a,n,i,r,o,l,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,p,d,u){function h(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function f(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=o.parse(e,g,c.date);return isNaN(t)?void 0:t}return void 0}return null}function m(e,t){var a=e||t;if(!d.ngRequired&&!a)return!0;if(angular.isNumber(a)&&(a=new Date(a)),a){if(angular.isDate(a)&&!isNaN(a))return!0;if(angular.isString(a)){var n=o.parse(a,g);return!isNaN(n)}return!1}return!0}var g,y=angular.isDefined(d.closeOnDateSelection)?c.$parent.$eval(d.closeOnDateSelection):l.closeOnDateSelection,v=angular.isDefined(d.datepickerAppendToBody)?c.$parent.$eval(d.datepickerAppendToBody):l.appendToBody,D=angular.isDefined(d.onOpenFocus)?c.$parent.$eval(d.onOpenFocus):l.onOpenFocus,w=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:l.datepickerPopupTemplateUrl,b=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:l.datepickerTemplateUrl,$={};c.showButtonBar=angular.isDefined(d.showButtonBar)?c.$parent.$eval(d.showButtonBar):l.showButtonBar,c.getText=function(e){return c[e+"Text"]||l[e+"Text"]},c.isDisabled=function(e){return"today"===e&&(e=new Date),c.watchData.minDate&&c.compare(e,$.minDate)<0||c.watchData.maxDate&&c.compare(e,$.maxDate)>0},c.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var k=!1;if(l.html5Types[d.type]?(g=l.html5Types[d.type],k=!0):(g=d.datepickerPopup||l.datepickerPopup,d.$observe("datepickerPopup",function(e){var t=e||l.datepickerPopup;if(t!==g&&(g=t,u.$modelValue=null,!g))throw new Error("datepickerPopup must have a date format specified.")})),!g)throw new Error("datepickerPopup must have a date format specified.");if(k&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var M=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");M.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w});var x=angular.element(M.children()[0]);if(x.attr("template-url",b),k&&"month"===d.type&&(x.attr("datepicker-mode",'"month"'),x.attr("min-mode","month")),d.datepickerOptions){var T=c.$parent.$eval(d.datepickerOptions);T&&T.initDate&&(c.initDate=T.initDate,x.attr("init-date","initDate"),delete T.initDate),angular.forEach(T,function(e,t){x.attr(h(t),e)})}c.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(d[e]){var a=t(d[e]);if(c.$parent.$watch(a,function(t){c.watchData[e]=t,("minDate"===e||"maxDate"===e)&&($[e]=new Date(t))}),x.attr(h(e),"watchData."+e),"datepickerMode"===e){var n=a.assign;c.$watch("watchData."+e,function(e,t){angular.isFunction(n)&&e!==t&&n(c.$parent,e)})}}}),d.dateDisabled&&x.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&x.attr("show-weeks",d.showWeeks),d.customClass&&x.attr("custom-class","customClass({ date: date, mode: mode })"),k?u.$formatters.push(function(e){return c.date=e,e}):(u.$$parserName="date",u.$validators.date=m,u.$parsers.unshift(f),u.$formatters.push(function(e){return c.date=e,u.$isEmpty(e)?e:r(e,g)})),c.dateSelection=function(e){angular.isDefined(e)&&(c.date=e);var t=c.date?r(c.date,g):null;p.val(t),u.$setViewValue(t),y&&(c.isOpen=!1,p[0].focus())},u.$viewChangeListeners.push(function(){c.date=o.parse(u.$viewValue,g,c.date)});var O=function(e){!c.isOpen||p[0].contains(e.target)||M[0].contains(e.target)||c.$apply(function(){c.isOpen=!1})},E=function(e){27===e.which&&c.isOpen?(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!1}),p[0].focus()):40!==e.which||c.isOpen||(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!0}))};p.bind("keydown",E),c.keydown=function(e){27===e.which&&(c.isOpen=!1,p[0].focus())},c.$watch("isOpen",function(e){e?(c.position=v?i.offset(p):i.position(p),c.position.top=c.position.top+p.prop("offsetHeight"),s(function(){D&&c.$broadcast("datepicker.focus"),a.bind("click",O)},0,!1)):a.unbind("click",O)}),c.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.date)?(e=new Date(c.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}c.dateSelection(e)},c.close=function(){c.isOpen=!1,p[0].focus()};var F=e(M)(c);M.remove(),v?a.find("body").append(F):p.after(F),c.$on("$destroy",function(){c.isOpen===!0&&(n.$$phase||c.$apply(function(){c.isOpen=!1})),F.remove(),p.unbind("keydown",E),a.unbind("click",O)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,a){function n(e){var t=[],n=e.split("");return angular.forEach(o,function(a,i){var r=e.indexOf(i);if(r>-1){e=e.split(""),n[r]="("+a.regex+")",e[r]="$";for(var o=r+1,l=r+i.length;l>o;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:r,apply:a.apply})}}),{regex:new RegExp("^"+n.join("")+"$"),map:a(t,"index")}}function i(e,t,a){return 1>a?!1:1===t&&a>28?29===a&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>a:!0}var r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(a,o,l){if(!angular.isString(a)||!o)return a;o=t.DATETIME_FORMATS[o]||o,o=o.replace(r,"\\$&"),this.parsers[o]||(this.parsers[o]=n(o));var s=this.parsers[o],c=s.regex,p=s.map,d=a.match(c);if(d&&d.length){var u,h;angular.isDate(l)&&!isNaN(l.getTime())?u={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),u={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,m=d.length;m>f;f++){var g=p[f-1];g.apply&&g.apply.call(u,d[f])}return i(u.year,u.month,u.date)&&(h=new Date(u.year,u.month,u.date,u.hours,u.minutes,u.seconds,u.milliseconds||0)),h}}}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]);